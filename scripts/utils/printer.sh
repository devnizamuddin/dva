#!/bin/bash

#* â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
#* â•‘                                   ğŸ’° Imported Files                                              â•‘
#* â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

source "$DVA_HOME/scripts/utils/style.sh"

#* â”==================================================================================================â”“
#* â”ƒ                                   ğŸ“– Printing Header                                              â”ƒ
#* â”—==================================================================================================â”›

function print_header() {
    local title="$1"
    echo -e "${BOLD}${BLUE}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${NC}"
    echo -e "${BOLD}${BLUE}â”‚   $title   â”‚${NC}"
    echo -e "${BOLD}${BLUE}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${NC}"
}

#* â”==================================================================================================â”“
#* â”ƒ                                   ğŸ“– Printing Title                                              â”ƒ
#* â”—==================================================================================================â”›

function print_title() {
    local title="$1"
    echo -e "${BOLD}${GREEN}== $title ==${NC}"
}

#* â”==================================================================================================â”“
#* â”ƒ                                         ğŸ“– Print Body                                            â”ƒ
#* â”—==================================================================================================â”›

function print_body() {
    echo -e "${WHITE}$1${NC}"
}


#* â”==================================================================================================â”“
#* â”ƒ                                   ğŸ“– Choose Menu or Back                                         â”ƒ
#* â”—==================================================================================================â”›

function choose_menu_or_back() {
    echo -e "${YELLOW}1) Menu${NC}"
    echo -e "${YELLOW}2) Back${NC}"
}

#* â”==================================================================================================â”“
#* â”ƒ                                 ğŸ“– Choose From Multiple Choice                                   â”ƒ
#* â”—==================================================================================================â”›

function choose_from_multiple_choice_options() {
    local -n options=$1  # Pass array by reference
    echo -e "${BOLD}Choose an option:${NC}"
    local i=1
    for opt in "${options[@]}"; do
        echo -e "${CYAN}$i)${NC} $opt"
        ((i++))
    done
}


#* â”==================================================================================================â”“
#* â”ƒ                                   ğŸ“– Progress Dot Loader                                         â”ƒ
#* â”—==================================================================================================â”›


function show_progress_dots() {
    local message="${1}"
    shift
    local cmd=("$@")  # Command passed as arguments

    local delay=0.5
    local count=0

    # Hide cursor during animation
    tput civis
    echo ""
    echo ""

    # Start spinner in background
    (
    while :; do
        count=$(( (count + 1) % 4 ))
        dots=$(printf "%*s" "$count" | tr ' ' '.')
        printf "\r${CYAN}${BOLD}â³ %s${dots}${RESET}" "$message"
        sleep "$delay"
    done
    ) &
    local spinner_pid=$!

    # Run the actual command silently
    "${cmd[@]}" >/dev/null 2>&1

    # Stop spinner
    kill "$spinner_pid" >/dev/null 2>&1
    wait "$spinner_pid" 2>/dev/null

    # Clean up output and print done message
    printf "\r${GREEN}âœ… %s... Done!${RESET}\n" "$message"
    echo ""
    echo ""
    tput cnorm  # Show cursor again
}

#* â”==================================================================================================â”“
#* â”ƒ                                   ğŸ“– Prints Line Gap                                             â”ƒ
#* â”—==================================================================================================â”›

function line_gap() {
    local lines=${1:-1}  # Default to 1 line if no argument given
    for ((i=0; i<lines; i++)); do
        echo -e ""
    done
}


#* â”==================================================================================================â”“
#* â”ƒ                                   ğŸ“– Dividers                                                    â”ƒ
#* â”—==================================================================================================â”›


function divider() {
    
    echo -e "------------------------------------------------------------------------------------------------------------------------------"

}

function multi_line_divider() {
    
    echo -e "============================================================================================="

}
